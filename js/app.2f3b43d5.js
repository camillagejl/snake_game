(function(e){function t(t){for(var n,r,a=t[0],c=t[1],l=t[2],h=0,d=[];h<a.length;h++)r=a[h],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,a=1;a<i.length;a++){var c=i[a];0!==o[c]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},o={app:0},s=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var p=c;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"4bd5":function(e,t,i){"use strict";i("c38b")},"56d7":function(e,t,i){"use strict";i.r(t);var n=i("7a23");function o(e,t,i,o,s,r){const a=Object(n["n"])("GameWindow");return Object(n["j"])(),Object(n["c"])(a)}const s={id:"gameWindow"},r={key:2,class:"game"},a={class:"gameInfo"};function c(e,t,i,o,c,l){const p=Object(n["n"])("Menu"),h=Object(n["n"])("HighscoreList"),d=Object(n["n"])("Timer"),u=Object(n["n"])("Points"),f=Object(n["n"])("SnakePart"),m=Object(n["n"])("Apple");return Object(n["j"])(),Object(n["e"])("div",s,["menu"===c.screen?(Object(n["j"])(),Object(n["c"])(p,{key:0,onPlayGame:this.startGame,onViewHighscore:t[0]||(t[0]=e=>this.screen="highscore"),gameIsOver:c.gameIsOver,points:c.points,time:c.time},null,8,["onPlayGame","gameIsOver","points","time"])):Object(n["d"])("",!0),"highscore"===c.screen?(Object(n["j"])(),Object(n["c"])(h,{key:1,onViewMenu:t[1]||(t[1]=e=>this.screen="menu"),highScore:c.highScore},null,8,["highScore"])):Object(n["d"])("",!0),"game"===c.screen?(Object(n["j"])(),Object(n["e"])("div",r,[Object(n["f"])("div",a,[Object(n["h"])(d,{time:c.time},null,8,["time"]),Object(n["h"])(u,{points:c.points},null,8,["points"])]),(Object(n["j"])(!0),Object(n["e"])(n["a"],null,Object(n["m"])(c.snake,(e,t)=>(Object(n["j"])(),Object(n["c"])(f,{key:t,defaultSize:c.defaultSnakeSize,snakeProps:e,style:Object(n["i"])("position: absolute; top: "+e.top+"; left: "+e.left),class:"snake_part",id:"snake_part_"+t},null,8,["defaultSize","snakeProps","style","id"]))),128)),Object(n["h"])(m,{style:Object(n["i"])("position: absolute; top: "+c.apple.top+"; left: "+c.apple.left)},null,8,["style"])])):Object(n["d"])("",!0)])}i("3c65"),i("14d9");const l=["width","height"],p=["width","height","rx"];function h(e,t,i,o,s,r){return Object(n["j"])(),Object(n["e"])("svg",{class:"snake",width:i.snakeProps.width,height:i.snakeProps.height},[Object(n["f"])("rect",{width:i.snakeProps.width,height:i.snakeProps.height,rx:i.defaultSize/1.3},null,8,p)],8,l)}var d={name:"snakePart",props:{defaultSize:Number,snakeProps:Object}},u=i("6b0d"),f=i.n(u);const m=f()(d,[["render",h]]);var b=m;const g=["width","height"],j=["width","height","rx"];function O(e,t,i,o,s,r){return Object(n["j"])(),Object(n["e"])("svg",{fill:"darkred",class:"apple",width:s.appleSize,height:s.appleSize},[Object(n["f"])("rect",{width:s.appleSize,height:s.appleSize,rx:s.appleSize/2},null,8,j)],8,g)}var k={name:"apple",data(){return{appleSize:30}}};const v=f()(k,[["render",O]]);var w=v;function S(e,t,i,o,s,r){return Object(n["j"])(),Object(n["e"])("div",null,Object(n["o"])(i.points)+" points ",1)}var y={name:"points",props:{points:Number}};const P=f()(y,[["render",S]]);var z=P;function D(e,t,i,o,s,r){return Object(n["j"])(),Object(n["e"])("div",null," Time: "+Object(n["o"])(i.time),1)}var _={name:"timer",props:{time:Number}};const N=f()(_,[["render",D]]);var A=N;const M=e=>(Object(n["l"])("data-v-78269c0d"),e=e(),Object(n["k"])(),e),I={class:"menuContainer"},x={class:"menu"},C={key:0},G=M(()=>Object(n["f"])("label",{for:"name"},"Your name",-1));function T(e,t,i,o,s,r){return Object(n["j"])(),Object(n["e"])("div",I,[Object(n["f"])("div",x,[i.gameIsOver?(Object(n["j"])(),Object(n["e"])("div",C,"Game over! You got "+Object(n["o"])(i.points)+" points in "+Object(n["o"])(i.time)+" seconds.",1)):Object(n["d"])("",!0),G,Object(n["q"])(Object(n["f"])("input",{type:"text",id:"name",name:"name",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>s.playerName=e)},null,512),[[n["p"],s.playerName]]),Object(n["f"])("button",{onClick:t[1]||(t[1]=e=>this.$emit("playGame",s.playerName))},"Play game!"),Object(n["f"])("button",{onClick:t[2]||(t[2]=e=>this.$emit("viewHighscore"))},"View highscore")])])}var q={name:"menu",data(){return{playerName:"Player"}},props:{gameIsOver:Boolean,points:Number,time:Number}};i("cdc3");const B=f()(q,[["render",T],["__scopeId","data-v-78269c0d"]]);var W=B;const E=e=>(Object(n["l"])("data-v-8f4cd4de"),e=e(),Object(n["k"])(),e),L={class:"scoreboard"},H=E(()=>Object(n["f"])("br",null,null,-1));function R(e,t,i,o,s,r){return Object(n["j"])(),Object(n["e"])("div",L,[Object(n["g"])(" Highscore "),(Object(n["j"])(!0),Object(n["e"])(n["a"],null,Object(n["m"])(r.sortedScores,(e,t)=>(Object(n["j"])(),Object(n["e"])("div",{key:t,class:"score"},[Object(n["f"])("span",null,[Object(n["g"])(Object(n["o"])(t+1)+". Name: "+Object(n["o"])(e.name)+" ",1),H]),Object(n["f"])("span",null," Score: "+Object(n["o"])(e.points),1)]))),128)),Object(n["f"])("button",{onClick:t[0]||(t[0]=e=>this.$emit("viewMenu"))},"Back to menu")])}var V={name:"highscoreList",props:{highScore:Array},computed:{sortedScores(){let e=this.highScore;return e.sort((e,t)=>t.points-e.points).slice(0,10)}}};i("dfe1");const F=f()(V,[["render",R],["__scopeId","data-v-8f4cd4de"]]);var $=F,J={name:"gameWindow",components:{HighscoreList:$,Menu:W,Timer:A,Points:z,Apple:w,SnakePart:b},data(){return{screen:"menu",playerName:"",gameIsOver:!1,defaultSnakeSize:15,appleSize:30,speed:5,snakeLength:100,points:0,timer:!1,time:0,animation:"",snake:[{top:100,left:100,direction:"right",height:15,width:100}],apple:{},arrows:[{direction:"up",keys:["ArrowUp","W","w"],positionNewSnake:[{previousDirection:"left",top:"top",left:"left"},{previousDirection:"right",top:"top",left:"right"}]},{direction:"left",keys:["ArrowLeft","A","a"],positionNewSnake:[{previousDirection:"up",top:"top",left:"left"},{previousDirection:"down",top:"bottom",left:"left"}]},{direction:"down",keys:["ArrowDown","S","s"],positionNewSnake:[{previousDirection:"left",top:"top",left:"left"},{previousDirection:"right",top:"top",left:"right"}]},{direction:"right",keys:["ArrowRight","D","d"],positionNewSnake:[{previousDirection:"up",top:"top",left:"left"},{previousDirection:"down",top:"bottom",left:"left"}]}],highScore:[{name:"Troels",points:200},{name:"Camilla",points:120},{name:"Bitten",points:10090}]}},mounted(){document.addEventListener("keydown",e=>{this.arrows.forEach(t=>{t.keys.forEach(i=>{e.key===i&&this.changeDirection(t.direction)})})}),this.createApple()},methods:{startGame(e){this.screen="game",this.snake=[{top:100,left:100,direction:"right",height:15,width:100}],this.timer=!1,this.points=0,this.time=0,this.playerName=e},changeDirection(e){this.arrows.forEach(t=>{t.direction===e&&t.positionNewSnake.forEach(e=>{this.snake[0].direction===e.previousDirection&&(this.timer||this.startTimer(),this.createPart(t.direction,e),cancelAnimationFrame(this.animation),this.animate())})})},createPart(e,t){let i={top:100,left:100,direction:e,height:this.defaultSnakeSize,width:this.defaultSnakeSize},n=document.querySelector("#gameWindow").getBoundingClientRect(),o=document.querySelector("#snake_part_0").getBoundingClientRect();i.top=o[t.top]-n.top-5,i.left=o[t.left]-n.left-5,"bottom"===t.top&&(i.top-=this.defaultSnakeSize),"right"===t.left&&(i.left-=this.defaultSnakeSize),this.snake.unshift(i)},startTimer(){this.timer=window.setInterval(()=>{this.time+=1,console.log(this.time)},1e3)},createApple(){this.apple={top:Math.floor(Math.random()*(750-this.appleSize)),left:Math.floor(Math.random()*(750-this.appleSize))}},animate(){this.animation=requestAnimationFrame(this.animate);let e=this.snake.length-1;this.snake[e].width<=this.defaultSnakeSize&&this.snake[e].height<=this.defaultSnakeSize&&this.snake.pop(),e=this.snake.length-1,this.snake.length>1?this.moveMultipleParts(e):this.moveSinglePart(),this.collisionDetection()},moveMultipleParts(e){"up"!==this.snake[0].direction&&"down"!==this.snake[0].direction||(this.snake[0].height+=this.speed),"left"!==this.snake[0].direction&&"right"!==this.snake[0].direction||(this.snake[0].width+=this.speed),"up"===this.snake[0].direction&&(this.snake[0].top-=this.speed),"left"===this.snake[0].direction&&(this.snake[0].left-=this.speed),"left"!==this.snake[e].direction&&"right"!==this.snake[e].direction||(this.snake[e].width-=this.speed),"up"!==this.snake[e].direction&&"down"!==this.snake[e].direction||(this.snake[e].height-=this.speed),"down"===this.snake[e].direction&&(this.snake[e].top+=this.speed),"right"===this.snake[e].direction&&(this.snake[e].left+=this.speed)},moveSinglePart(){"up"===this.snake[0].direction&&(this.snake[0].top-=this.speed),"left"===this.snake[0].direction&&(this.snake[0].left-=this.speed),"down"===this.snake[0].direction&&(this.snake[0].top+=this.speed),"right"===this.snake[0].direction&&(this.snake[0].left+=this.speed)},collisionDetection(){let e=document.querySelector("#gameWindow").getBoundingClientRect(),t=document.querySelector("#snake_part_0").getBoundingClientRect(),i={top:0,left:0};"up"!==this.snake[0].direction&&"left"!==this.snake[0].direction||(i={top:t.top,left:t.left}),"down"===this.snake[0].direction&&(i={top:t.top+t.height,left:t.left}),"right"===this.snake[0].direction&&(i={top:t.top,left:t.left+t.width}),i={top:i.top-e.top-5,left:i.left-e.left-5},this.appleDetection(i);let n=!1;"gameOver"===this.snakeDetection(i)&&(n=!0),"gameOver"===this.wallDetection(i)&&(n=!0),n&&this.gameOver()},appleDetection(e){let t={top:this.apple.top,left:this.apple.left,bottom:this.apple.top+this.appleSize,right:this.apple.left+this.appleSize};e.top+this.defaultSnakeSize>t.top&&e.top<t.bottom&&e.left+this.defaultSnakeSize>t.left&&e.left<t.right&&(this.points=this.points+10,this.createApple())},wallDetection(e){return e.top<=0||e.left<=0||e.top>=750||e.left>=750?"gameOver":""},snakeDetection(e){return this.snake.forEach(t=>{let i={top:t.top,left:t.left,bottom:t.top+t.height,right:t.left+t.width};if(e.top>i.top&&e.top<i.bottom&&e.left>i.left&&e.left<i.right)return"gameOver"}),""},gameOver(){cancelAnimationFrame(this.animation);let e={name:this.playerName,points:this.points};this.gameIsOver=!0,this.highScore.push(e),this.screen="menu",window.clearInterval(this.timer)}}};i("6ed5");const U=f()(J,[["render",c],["__scopeId","data-v-c19ec84a"]]);var Y=U,K={name:"App",components:{GameWindow:Y}};i("4bd5");const Q=f()(K,[["render",o]]);var X=Q;Object(n["b"])(X).mount("#app")},"6ed5":function(e,t,i){"use strict";i("89b3")},"81e3":function(e,t,i){},"89b3":function(e,t,i){},c38b:function(e,t,i){},cdc3:function(e,t,i){"use strict";i("81e3")},dfe1:function(e,t,i){"use strict";i("f041")},f041:function(e,t,i){}});
//# sourceMappingURL=app.2f3b43d5.js.map